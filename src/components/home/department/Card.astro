---
import type { DepartmentCardProps } from "../../../types/card.ts";
import { Image } from "astro:assets";

export interface Props extends DepartmentCardProps {
  "data-delay"?: number;
}

const { t, "data-delay": dataDelay } = Astro.props;
---

<article
  class="scroll-animate animate-fade-up flex w-full min-w-0 flex-col overflow-hidden rounded-2xl border border-gray-300 bg-white transition-shadow duration-300 hover:shadow-lg"
  data-delay={dataDelay}
>
  <a
    href={t.href}
    class="group block w-full rounded-2xl focus:outline-none"
    aria-label={`View ${t.title} department details`}
  >
    <div class="relative aspect-[2/1] w-full overflow-hidden rounded-2xl">
      <Image
        src={t.image}
        alt=""
        class="absolute inset-0 h-full w-full object-cover transition-transform duration-300 group-hover:scale-105"
        width={800}
        height={400}
        loading="lazy"
        decoding="async"
        sizes="(max-width: 640px) 100vw, (max-width: 1024px) 50vw, 400px"
        quality={95}
        role="presentation"
      />
      <div class="absolute inset-0 bg-white/90 transition-all duration-300 group-hover:bg-white/85">
      </div>
      <div
        class="absolute inset-0 flex flex-col items-center justify-center gap-4 px-4 py-6 sm:px-6"
      >
        <Image
          src={t.icon}
          alt={t.iconAlt ?? ""}
          width={80}
          height={80}
          class="h-16 w-16 flex-shrink-0 object-contain transition-transform duration-300 group-hover:scale-110 sm:h-20 sm:w-20"
          loading="lazy"
          decoding="async"
          role="presentation"
        />
        <h3
          class="text-center font-prompt text-xl font-bold leading-tight text-black transition-all duration-300 sm:text-2xl"
        >
          {t.title}
        </h3>
      </div>
    </div>
  </a>
</article>
